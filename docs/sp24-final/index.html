<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Spring 2024 Final Exam</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../assets/theme.css" />
  <script defer=""
  src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Spring 2024 Final Exam</h1>
</header>
<p><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<!-- add after bootstrap.min.css -->
<link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.css"/>
<!-- add after bootstrap.min.js or bootstrap.bundle.min.js -->
<script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script></p>
<!-- for difficulty gauges-->
<script src="https://cdn.plot.ly/plotly-2.16.1.min.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B947E6J6H4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B947E6J6H4');
</script>
<p><a href="../index.html">← return to practice.dsc80.com</a></p>
<hr />
<p><strong>Instructor(s):</strong> Sam Lau</p>
<p>This exam was administered in-person. The exam was closed-notes,
except students were allowed to bring two two-sided cheat sheets. No
calculators were allowed. Students had <strong>180 minutes</strong> to
take this exam.</p>
<hr />
<p>The Open e-commerce dataset contains data about people’s Amazon.com
purchases. To collect the data, the researchers asked participants to
fill out a survey. Only participants who completed the survey were
recorded in the data. In one part of the survey, participants were given
instructions to download their Amazon purchase history and share it with
the researchers. Since this step was not required, not all participants
shared their Amazon purchase history with the researchers. The dataset
contains two tables, <code>df</code> and <code>survey</code>. The
<code>df</code> table was created from participants’ purchase history
and records individual items purchased from Amazon.</p>
<center><img src="../../assets/images/sp24-final/df.png" style="width: 100%; height: auto;"></center>
<ul>
<li><p><code>"date" (pd.Timestamp)</code>: The date that the purchase
was made.</p></li>
<li><p><code>"code" (float)</code>: Cost of one item in US
dollars.</p></li>
<li><p><code>"q" (float)</code>: Quantity of items purchased in the
order.</p></li>
<li><p><code>"state" (str)</code>: US state where the order was shipped.
If the item was an electronic gift card, the researchers recorded
<code>NaN</code>.</p></li>
<li><p><code>"name" (str)</code>: Name of the item.</p></li>
<li><p><code>"cat" (str)</code>: Category of the item.</p></li>
<li><p><code>"id" (str)</code>: Participant ID.</p></li>
</ul>
<center><img src="../../assets/images/sp24-final/survey.png" style="width: 100%; height: auto;"></center>
<ul>
<li><p><code>"id" (str)</code>: Participant ID. Some values in this
column don’t appear in the <code>id</code> column of
<code>df</code>.</p></li>
<li><p><code>"age" (str)</code>: Age of participant.</p></li>
<li><p><code>"income" (str)</code>: Income of participant.</p></li>
<li><p><code>"state" (str)</code>: US state where order was
shipped.</p></li>
<li><p><code>"marijuana" (str)</code>: Whether the participant reported
that they smoke marijuana (Yes) or don’t smoke marijuana (No).</p></li>
<li><p><code>"diabetes" (str)</code>: Whether the participant reported
that they have diabetes (Yes) or don’t have diabetes (No).</p></li>
</ul>
<hr />
<h2 id="problem-1">Problem 1</h2>
<p>Fill in Python code below so that the last line of each code snippet
evaluates to each desired result, using the <code>df</code> and
<code>survey</code> DataFrames described on Page 1 of the Reference
Sheet. <strong>You may not use <code>for</code> or <code>while</code>
loops in any answer for this question.</strong> For convenience, the
first few rows of <code>df</code> (top) and <code>survey</code> (bottom)
are displayed below.</p>
<center><img src="../../assets/images/sp24-final/df.png" style="width: 100%; height: auto;"></center>
<center><img src="../../assets/images/sp24-final/survey.png" style="width: 100%; height: auto;"></center>
<p><br></p>
<h3 id="problem-1.1">Problem 1.1</h3>
<p>Find the participant ID of the person who made the most recent
purchase in the dataset.</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>df.sort_values(__(a)__, ascending<span class="op">=</span><span class="va">True</span>).iloc[__(c)__, __(b)__]</span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_1" aria-expanded="true" aria-controls="collapse1_1">
Click to view the solution.
</button>
</h2>
<div id="collapse1_1" class="accordion-collapse collapse"
aria-labelledby="heading1_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong></p>
<p>(a): <code>date</code></p>
<p>(b): <code>-1</code></p>
<p>(c): <code>-1</code></p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-1.2">Problem 1.2</h3>
<p>Create a DataFrame that compares the range of item costs for people
with diabetes and people that don’t have diabetes. The DataFrame should
be indexed by the unique values in the <code>diabetes</code> column (Yes
and No) and have one column: the range of item costs (max cost - min
cost) for each group.</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> f(x):</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> __(a)__</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>(df.merge(survey, on<span class="op">=</span><span class="st">&#39;id&#39;</span>)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>   .groupby(__(b)__)[__(c)__]</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>   .__(d)__(f))</span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_2" aria-expanded="true" aria-controls="collapse1_2">
Click to view the solution.
</button>
</h2>
<div id="collapse1_2" class="accordion-collapse collapse"
aria-labelledby="heading1_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong></p>
<p>(a): <code>x.max() - x.min()</code></p>
<p>(b): <code>'diabetes'</code></p>
<p>(c): <code>'cost'</code></p>
<p>(d): <code>agg</code></p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-2">Problem 2</h2>
<p><br></p>
<h3 id="problem-2.1">Problem 2.1</h3>
<p>What is the most likely missingness mechanism for the
<code>state</code> column in <code>df</code>?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Missing by design</p></li>
<li><p><input type="radio" disabled="" /> Missing completely at random</p></li>
<li><p><input type="radio" disabled="" /> Missing at random</p></li>
<li><p><input type="radio" disabled="" /> Not missing at random</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_1" aria-expanded="true" aria-controls="collapse2_1">
Click to view the solution.
</button>
</h2>
<div id="collapse2_1" class="accordion-collapse collapse"
aria-labelledby="heading2_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Missing by design</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-2.2">Problem 2.2</h3>
<p>What is the most likely missingness mechanism for the
<code>income</code> column in <code>survey</code>?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Missing by design</p></li>
<li><p><input type="radio" disabled="" /> Missing completely at random</p></li>
<li><p><input type="radio" disabled="" /> Missing at random</p></li>
<li><p><input type="radio" disabled="" /> Not missing at random</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_2" aria-expanded="true" aria-controls="collapse2_2">
Click to view the solution.
</button>
</h2>
<div id="collapse2_2" class="accordion-collapse collapse"
aria-labelledby="heading2_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Missing at random</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-3">Problem 3</h2>
<p>The code snippet below uses a <code>for</code> loop.</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>mystery <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> df[<span class="st">&#39;id&#39;</span>].unique():</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    temp <span class="op">=</span> df[df[<span class="st">&#39;id&#39;</span>] <span class="op">==</span> i]</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> temp[<span class="st">&#39;q&#39;</span>].<span class="bu">sum</span>() <span class="op">&gt;</span> <span class="dv">100</span>:</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>        mystery <span class="op">+=</span> <span class="dv">1</span></span></code></pre></div>
<p><br></p>
<h3 id="problem-3.1">Problem 3.1</h3>
<p>Rewrite the snippet without using any loops.</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>mystery <span class="op">=</span> (df.groupby(__(a)__)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>           .__(b)__(<span class="kw">lambda</span> x: __(c)__)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>           [__(d)__].__(e)__())</span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_1" aria-expanded="true" aria-controls="collapse3_1">
Click to view the solution.
</button>
</h2>
<div id="collapse3_1" class="accordion-collapse collapse"
aria-labelledby="heading3_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong></p>
<p>(a): <code>'id'</code></p>
<p>(b): <code>filter</code></p>
<p>(c): <code>x['q'].sum() &gt; 100</code></p>
<p>(d): <code>'id'</code></p>
<p>(e): <code>nunique</code></p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-3.2">Problem 3.2</h3>
<p>Suppose you see the output below:</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> df[<span class="st">&#39;id&#39;</span>].value_counts()</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>P2955    <span class="dv">200</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>P3001    <span class="dv">150</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>P3125    <span class="dv">100</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>Name: <span class="bu">id</span>, Length: <span class="dv">3</span>, dtype: int64</span></code></pre></div>
<p>Fill in the blank in the sentence below with a single number.</p>
<p>The code without <code>for</code> loops runs approximately _______
times faster than the code with a <code>for</code> loop.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_2" aria-expanded="true" aria-controls="collapse3_2">
Click to view the solution.
</button>
</h2>
<div id="collapse3_2" class="accordion-collapse collapse"
aria-labelledby="heading3_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 3</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-4">Problem 4</h2>
<p>You want to use regular expressions to extract out the number of
ounces from the 5 product names below.</p>
<table>
<colgroup>
<col style="width: 14%" />
<col style="width: 57%" />
<col style="width: 27%" />
</colgroup>
<thead>
<tr class="header">
<th><strong>Index</strong></th>
<th><strong>Product Name</strong></th>
<th><strong>Expected Output</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>0</td>
<td>Adult Dog Food 18-Count, 3.5 oz Pouches</td>
<td>3.5</td>
</tr>
<tr class="even">
<td>1</td>
<td>Gardetto’s Snack Mix, 1.75 Ounce</td>
<td>1.75</td>
</tr>
<tr class="odd">
<td>2</td>
<td>Colgate Whitening Toothpaste, 3 oz Tube</td>
<td>3</td>
</tr>
<tr class="even">
<td>3</td>
<td>Adult Dog Food, 13.2 oz. Cans 24 Pack</td>
<td>13.2</td>
</tr>
<tr class="odd">
<td>4</td>
<td>Keratin Hair Spray 2!6 oz</td>
<td>6</td>
</tr>
</tbody>
</table>
<p>The names are stored in a pandas Series called <code>names</code>.
For each snippet below, select the indexes for all the product names
that <strong>will not</strong> be matched correctly.</p>
<p><br></p>
<h3 id="problem-4.1">Problem 4.1</h3>
<p>Snippet:</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>regex <span class="op">=</span> <span class="vs">r&#39;([\d.]+) oz&#39;</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>names.<span class="bu">str</span>.findall(regex)</span></code></pre></div>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> 0</p></li>
<li><p><input type="checkbox" disabled="" /> 1</p></li>
<li><p><input type="checkbox" disabled="" /> 2</p></li>
<li><p><input type="checkbox" disabled="" /> 3</p></li>
<li><p><input type="checkbox" disabled="" /> 4</p></li>
<li><p><input type="checkbox" disabled="" /> All names will be matched correctly.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_1" aria-expanded="true" aria-controls="collapse4_1">
Click to view the solution.
</button>
</h2>
<div id="collapse4_1" class="accordion-collapse collapse"
aria-labelledby="heading4_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 1</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-4.2">Problem 4.2</h3>
<p>Snippet:</p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>regex <span class="op">=</span> <span class="vs">r&#39;(\d+?.\d+) oz|Ounce&#39;</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>names.<span class="bu">str</span>.findall(regex)</span></code></pre></div>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> 0</p></li>
<li><p><input type="checkbox" disabled="" /> 1</p></li>
<li><p><input type="checkbox" disabled="" /> 2</p></li>
<li><p><input type="checkbox" disabled="" /> 3</p></li>
<li><p><input type="checkbox" disabled="" /> 4</p></li>
<li><p><input type="checkbox" disabled="" /> All names will be matched correctly.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_2" aria-expanded="true" aria-controls="collapse4_2">
Click to view the solution.
</button>
</h2>
<div id="collapse4_2" class="accordion-collapse collapse"
aria-labelledby="heading4_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 1, 2, 4</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-5">Problem 5</h2>
<p>Suppose you define a DataFrame <code>t</code> as follows:</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>t <span class="op">=</span> (survey.merge(df, on<span class="op">=</span><span class="st">&#39;id&#39;</span>, suffixes<span class="op">=</span>(<span class="st">&#39;&#39;</span>, <span class="st">&#39;2&#39;</span>))</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>     .assign(is_ca<span class="op">=</span>t[<span class="st">&#39;state&#39;</span>] <span class="op">==</span> <span class="st">&#39;California&#39;</span>,</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>             is_boot<span class="op">=</span>t[<span class="st">&#39;cat&#39;</span>] <span class="op">==</span> <span class="st">&#39;BOOT&#39;</span>,</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>             is_tool<span class="op">=</span>t[<span class="st">&#39;cat&#39;</span>] <span class="op">==</span> <span class="st">&#39;TOOLS&#39;</span>))</span></code></pre></div>
<p>The first few rows of <code>t</code> are shown below:</p>
<center><img src="../../assets/images/sp24-final/t.png" style="width: 100%; height: auto;"></center>
<p>For each pivot table below, state whether it is
<strong>possible</strong> to observe Simpson’s paradox without any extra
information about the data.</p>
<p><br></p>
<h3 id="problem-5.1">Problem 5.1</h3>
<p>Pivot table:</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>t.pivot_table(</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    index<span class="op">=</span><span class="st">&#39;is_ca&#39;</span>,</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    columns<span class="op">=</span><span class="st">&#39;is_boot&#39;</span>,</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    values<span class="op">=</span><span class="st">&#39;cost&#39;</span>,</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    aggfunc<span class="op">=</span><span class="st">&#39;count&#39;</span>,</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Yes</p></li>
<li><p><input type="radio" disabled="" /> No</p></li>
<li><p><input type="radio" disabled="" /> Need more information to determine</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_1" aria-expanded="true" aria-controls="collapse5_1">
Click to view the solution.
</button>
</h2>
<div id="collapse5_1" class="accordion-collapse collapse"
aria-labelledby="heading5_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> No</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-5.2">Problem 5.2</h3>
<p>Pivot table:</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>t.pivot_table(</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    index<span class="op">=</span><span class="st">&#39;is_ca&#39;</span>,</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    columns<span class="op">=</span><span class="st">&#39;is_tool&#39;</span>,</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    values<span class="op">=</span><span class="st">&#39;cost&#39;</span>,</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    aggfunc<span class="op">=</span><span class="st">&#39;mean&#39;</span>,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Yes</p></li>
<li><p><input type="radio" disabled="" /> No</p></li>
<li><p><input type="radio" disabled="" /> Need more information to determine</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_2" aria-expanded="true" aria-controls="collapse5_2">
Click to view the solution.
</button>
</h2>
<div id="collapse5_2" class="accordion-collapse collapse"
aria-labelledby="heading5_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Yes</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-6">Problem 6</h2>
<p>For each hypothesis test below, select the <strong>one</strong>
correct procedure to simulate a single sample under the null hypothesis,
and select the <strong>one</strong> test statistic that can be used for
the hypothesis test among the choices given.</p>
<p>For convenience, the first few rows of <code>df</code> (top) and
<code>survey</code> (bottom) are displayed below; see your Reference
Sheet for the full details.</p>
<center><img src="../../assets/images/sp24-final/df.png" style="width: 100%; height: auto;"></center>
<center><img src="../../assets/images/sp24-final/survey.png" style="width: 100%; height: auto;"></center>
<p><br></p>
<h3 id="problem-6.1">Problem 6.1</h3>
<p>Null: Every purchase is equally likely to happen in all 50
states.</p>
<p>Alternative: At least one state is more likely to have purchases than
others.</p>
<p><strong>Simulation procedure:</strong></p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>np.random.multinomial(len(df), [1/50] * 50)</code></p></li>
<li><p><input type="radio" disabled="" /> <code>np.random.multinomial(len(survey), [1/50] * 50)</code></p></li>
<li><p><input type="radio" disabled="" /> <code>np.random.multinomial(len(df), [1/2] * 2)</code></p></li>
<li><p><input type="radio" disabled="" /> <code>np.random.permutation(df['state'])</code></p></li>
</ul>
<p><strong>Test statistic:</strong></p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Difference in means</p></li>
<li><p><input type="radio" disabled="" /> Absolute difference in means</p></li>
<li><p><input type="radio" disabled="" /> Total variation distance</p></li>
<li><p><input type="radio" disabled="" /> K-S test statistic</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_1" aria-expanded="true" aria-controls="collapse6_1">
Click to view the solution.
</button>
</h2>
<div id="collapse6_1" class="accordion-collapse collapse"
aria-labelledby="heading6_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong></p>
<p>Simulation procedure:
<code>np.random.multinomial(len(df), [1/50] * 50)</code></p>
<p>Test statistic: Total variation distance</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-6.2">Problem 6.2</h3>
<p>Null: The income distribution of people who smoke marijuana is the
same as the income distribution for people who don’t smoke
marijuana.</p>
<p>Alternative: The income distributions are different.</p>
<p><strong>Simulation procedure:</strong></p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>np.random.multinomial(len(survey), [1/50] * 50)</code></p></li>
<li><p><input type="radio" disabled="" /> <code>np.random.multinomial(len(survey), [1/2] * 2)</code></p></li>
<li><p><input type="radio" disabled="" /> <code>np.random.permutation(survey['income'])</code></p></li>
</ul>
<p><strong>Test statistic:</strong></p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Difference in means</p></li>
<li><p><input type="radio" disabled="" /> Absolute difference in means</p></li>
<li><p><input type="radio" disabled="" /> Total variation distance</p></li>
<li><p><input type="radio" disabled="" /> K-S test statistic</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_2" aria-expanded="true" aria-controls="collapse6_2">
Click to view the solution.
</button>
</h2>
<div id="collapse6_2" class="accordion-collapse collapse"
aria-labelledby="heading6_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong></p>
<p>Simulation procedure:
<code>np.random.permutation(survey['income'])</code></p>
<p>Test statistic: Total variation distance</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-6.3">Problem 6.3</h3>
<p>Null: The distribution of prices for items with missing categories is
the same as the distribution of prices for items with recorded
categories.</p>
<p>Alternative: Items with missing categories are more expensive than
items with with recorded categories.</p>
<p><strong>Simulation procedure:</strong></p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>np.random.multinomial(len(df), [1/50] * 50)</code></p></li>
<li><p><input type="radio" disabled="" /> <code>np.random.multinomial(len(df), [1/2] * 2)</code></p></li>
<li><p><input type="radio" disabled="" /> <code>np.random.permutation(df['cost'])</code></p></li>
</ul>
<p><strong>Test statistic:</strong></p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Difference in means</p></li>
<li><p><input type="radio" disabled="" /> Absolute difference in means</p></li>
<li><p><input type="radio" disabled="" /> Total variation distance</p></li>
<li><p><input type="radio" disabled="" /> K-S test statistic</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_3" aria-expanded="true" aria-controls="collapse6_3">
Click to view the solution.
</button>
</h2>
<div id="collapse6_3" class="accordion-collapse collapse"
aria-labelledby="heading6_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong></p>
<p>Simulation procedure:
<code>np.random.permutation(df['cost'])</code></p>
<p>Test statistic: Difference in means</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-7">Problem 7</h2>
<p>Suppose that <code>df</code> doesn’t have any missing data in the
<code>cost</code> column. Sam accidentally loses values from the
<code>cost</code> column and values are more likely to be missing for
<code>states</code> with expensive purchases. Sam’s data is stored in a
DataFrame called <code>missing</code>.</p>
<p>To recover the missing values, Sam applies the imputation methods
below to the <code>cost</code> column in <code>missing</code>, then
recalculates the mean of the <code>cost</code> column. For each
imputation method, choose whether the new mean will be lower (-), higher
(+), exactly the same (=), or approximately the same (<span
class="math inline">\approx</span>) as the original mean of the
<code>cost</code> column in <code>df</code> (the data without any
missing observations).</p>
<p><br></p>
<h3 id="problem-7.1">Problem 7.1</h3>
<div class="sourceCode" id="cb11"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>missing[<span class="st">&#39;cost&#39;</span>].fillna(missing[<span class="st">&#39;cost&#39;</span>].mean())</span></code></pre></div>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> None</p></li>
<li><p><input type="radio" disabled="" /> None</p></li>
<li><p><input type="radio" disabled="" /> =</p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\approx</span></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_1" aria-expanded="true" aria-controls="collapse7_1">
Click to view the solution.
</button>
</h2>
<div id="collapse7_1" class="accordion-collapse collapse"
aria-labelledby="heading7_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> -</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-7.2">Problem 7.2</h3>
<div class="sourceCode" id="cb12"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> mystery(s):</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> s.fillna(s.mean())</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>missing.groupby(<span class="st">&#39;state&#39;</span>)[<span class="st">&#39;cost&#39;</span>].transform(mystery).mean()</span></code></pre></div>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> None</p></li>
<li><p><input type="radio" disabled="" /> None</p></li>
<li><p><input type="radio" disabled="" /> =</p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\approx</span></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_2" aria-expanded="true" aria-controls="collapse7_2">
Click to view the solution.
</button>
</h2>
<div id="collapse7_2" class="accordion-collapse collapse"
aria-labelledby="heading7_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">\approx</span></p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-7.3">Problem 7.3</h3>
<div class="sourceCode" id="cb13"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> mystery2(s):</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    s <span class="op">=</span> s.copy()</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    n <span class="op">=</span> s.isna().<span class="bu">sum</span>()</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    fill_values <span class="op">=</span> np.random.choice(s.dropna(), n)</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>    s[s.isna()] <span class="op">=</span> fill_values</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> s</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>missing.groupby(<span class="st">&#39;state&#39;</span>)[<span class="st">&#39;cost&#39;</span>].transform(mystery2).mean()</span></code></pre></div>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> None</p></li>
<li><p><input type="radio" disabled="" /> None</p></li>
<li><p><input type="radio" disabled="" /> =</p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\approx</span></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_3" aria-expanded="true" aria-controls="collapse7_3">
Click to view the solution.
</button>
</h2>
<div id="collapse7_3" class="accordion-collapse collapse"
aria-labelledby="heading7_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">\approx</span></p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-8">Problem 8</h2>
<p>Suppose you are trying to scrape album names from a website. The
website has an HTML table structured as follows:</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">table</span><span class="dt">&gt;&lt;</span><span class="kw">thead</span><span class="dt">&gt;</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">tr</span><span class="dt">&gt;</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">th</span><span class="dt">&gt;</span>Name<span class="dt">&lt;/</span><span class="kw">th</span><span class="dt">&gt;</span> <span class="dt">&lt;</span><span class="kw">th</span><span class="dt">&gt;</span>Price<span class="dt">&lt;/</span><span class="kw">th</span><span class="dt">&gt;</span> <span class="dt">&lt;</span><span class="kw">th</span><span class="dt">&gt;</span>Number of Reviews<span class="dt">&lt;/</span><span class="kw">th</span><span class="dt">&gt;</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&lt;/</span><span class="kw">tr</span><span class="dt">&gt;&lt;/</span><span class="kw">thead</span><span class="dt">&gt;</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">tbody</span><span class="dt">&gt;</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">tr</span><span class="ot"> class</span><span class="op">=</span><span class="st">&quot;row&quot;</span><span class="dt">&gt;</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">td</span><span class="dt">&gt;</span>Radical Optimism<span class="dt">&lt;/</span><span class="kw">td</span><span class="dt">&gt;</span> <span class="dt">&lt;</span><span class="kw">td</span><span class="dt">&gt;</span>25<span class="dt">&lt;/</span><span class="kw">td</span><span class="dt">&gt;</span> <span class="dt">&lt;</span><span class="kw">td</span><span class="dt">&gt;</span>10000<span class="dt">&lt;/</span><span class="kw">td</span><span class="dt">&gt;</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&lt;/</span><span class="kw">tr</span><span class="dt">&gt;</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">tr</span><span class="ot"> class</span><span class="op">=</span><span class="st">&quot;row&quot;</span><span class="dt">&gt;</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">td</span><span class="dt">&gt;</span>Hit Me Hard and Soft<span class="dt">&lt;/</span><span class="kw">td</span><span class="dt">&gt;</span> <span class="dt">&lt;</span><span class="kw">td</span><span class="dt">&gt;</span>30<span class="dt">&lt;/</span><span class="kw">td</span><span class="dt">&gt;</span> <span class="dt">&lt;</span><span class="kw">td</span><span class="dt">&gt;</span>12000<span class="dt">&lt;/</span><span class="kw">td</span><span class="dt">&gt;</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&lt;/</span><span class="kw">tr</span><span class="dt">&gt;</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">tr</span><span class="ot"> class</span><span class="op">=</span><span class="st">&quot;row&quot;</span><span class="dt">&gt;</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">td</span><span class="dt">&gt;</span>SOS<span class="dt">&lt;/</span><span class="kw">td</span><span class="dt">&gt;</span> <span class="dt">&lt;</span><span class="kw">td</span><span class="dt">&gt;</span>18<span class="dt">&lt;/</span><span class="kw">td</span><span class="dt">&gt;</span> <span class="dt">&lt;</span><span class="kw">td</span><span class="dt">&gt;</span>30000<span class="dt">&lt;/</span><span class="kw">td</span><span class="dt">&gt;</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&lt;/</span><span class="kw">tr</span><span class="dt">&gt;</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- 997 &lt;tr&gt; elements omitted --&gt;</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">tbody</span><span class="dt">&gt;</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">table</span><span class="dt">&gt;</span></span></code></pre></div>
<p>Notice that the <code>&lt;tbody&gt;</code> tag contains 1000
<code>&lt;tr&gt;</code> elements, but only the first three are shown
above. Suppose that you’ve read the HTML table above into a
BeautifulSoup object called <code>soup</code>. Fill in the code below so
that the <code>albums</code> variable contains a list of all the album
names with (strictly) more than 15,000 reviews.</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>albums <span class="op">=</span> []</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> tag <span class="kw">in</span> soup.find_all(___(a)___):</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    reviews <span class="op">=</span> <span class="bu">int</span>(___(b)___)</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> reviews <span class="op">&gt;</span> <span class="dv">15000</span>:</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>        album <span class="op">=</span> ___(c)___</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>        albums.append(album)</span></code></pre></div>
<p><br></p>
<h3 id="problem-8.1">Problem 8.1</h3>
<p>What should go in blank (a)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_1" aria-expanded="true" aria-controls="collapse8_1">
Click to view the solution.
</button>
</h2>
<div id="collapse8_1" class="accordion-collapse collapse"
aria-labelledby="heading8_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>class_="row"</code></p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-8.2">Problem 8.2</h3>
<p>What should go in blank (b)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_2" aria-expanded="true" aria-controls="collapse8_2">
Click to view the solution.
</button>
</h2>
<div id="collapse8_2" class="accordion-collapse collapse"
aria-labelledby="heading8_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>tag.find_all('td')[2].text</code></p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-8.3">Problem 8.3</h3>
<p>What should go in blank (c)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_3" aria-expanded="true" aria-controls="collapse8_3">
Click to view the solution.
</button>
</h2>
<div id="collapse8_3" class="accordion-collapse collapse"
aria-labelledby="heading8_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>tag.find('td').text</code></p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-9">Problem 9</h2>
<p>You create a table called <code>gums</code> that only contains the
chewing gum purchases of <code>df</code>, then you create a bag-of-words
matrix called <code>bow</code> from the <code>name</code> column of
<code>gums</code>. The <code>bow</code> matrix is stored as a DataFrame
shown below:</p>
<center><img src="../../assets/images/sp24-final/bow.png" width=400></center>
<p>You also have the following outputs:</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> bow_df.<span class="bu">sum</span>(axis<span class="op">=</span><span class="dv">0</span>)    </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>pur            <span class="dv">5</span>          <span class="dv">0</span>     <span class="dv">21</span>                  <span class="dv">0</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>gum           <span class="dv">41</span>          <span class="dv">1</span>     <span class="dv">22</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>sugar          <span class="dv">2</span>          <span class="dv">2</span>     <span class="dv">22</span>                  <span class="op">&gt;&gt;&gt;</span> (bow_df[<span class="st">&#39;paperboard&#39;</span>] <span class="op">&gt;</span> <span class="dv">0</span>).<span class="bu">sum</span>()</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>              ..                ..                  <span class="dv">20</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="dv">90</span>             <span class="dv">4</span>          <span class="dv">37</span>    <span class="dv">22</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>paperboard    <span class="dv">22</span>          <span class="dv">38</span>    <span class="dv">10</span>                  <span class="op">&gt;&gt;&gt;</span> bow_df[<span class="st">&#39;gum&#39;</span>].<span class="bu">sum</span>()</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="dv">80</span>            <span class="dv">20</span>          <span class="dv">39</span>    <span class="dv">17</span>                  <span class="dv">41</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>Length: <span class="dv">139</span>               Length: <span class="dv">40</span></span></code></pre></div>
<p>For each question below, write your answer as an unsimplified math
expression (no need to simplify fractions or logarithms) in the space
provided, or select “Need more information” if there is not enough
information provided to answer the question.</p>
<p><br></p>
<h3 id="problem-9.1">Problem 9.1</h3>
<p>What is the TF-IDF for the word <code>pur</code> in document 0?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_1" aria-expanded="true" aria-controls="collapse9_1">
Click to view the solution.
</button>
</h2>
<div id="collapse9_1" class="accordion-collapse collapse"
aria-labelledby="heading9_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 0</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-9.2">Problem 9.2</h3>
<p>What is the TF-IDF for the word <code>gum</code> in document 0?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_2" aria-expanded="true" aria-controls="collapse9_2">
Click to view the solution.
</button>
</h2>
<div id="collapse9_2" class="accordion-collapse collapse"
aria-labelledby="heading9_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Need more information</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-9.3">Problem 9.3</h3>
<p>What is the TF-IDF for the word <code>paperboard</code> in document
1?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_3" aria-expanded="true" aria-controls="collapse9_3">
Click to view the solution.
</button>
</h2>
<div id="collapse9_3" class="accordion-collapse collapse"
aria-labelledby="heading9_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> </p>
<p> ( ) = </p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-10">Problem 10</h2>
<p>The two plots below show the total number of boots (top) and sandals
(bottom) purchased per month in the <code>df</code> table. Assume that
there is one data point per month.</p>
<center><img src="../../assets/images/sp24-final/boot.png" style="width: 100%; height: auto;"></center>
<center><img src="../../assets/images/sp24-final/sandal.png" style="width: 100%; height: auto;"></center>
<p>For each of the following regression models, use the visualizations
shown above to select the value that is <strong>closest</strong> to the
fitted model weights. If it is not possible to determine the model
weight, select “Not enough info”. For the models below:</p>
<ul>
<li>The notation <code>boot</code> refers to the number of boots
sold.</li>
<li>The notation <code>sandal</code> refers to the number of sandals
sold.</li>
<li><code>summer=1</code> is a column with value 1 if the month is
between March (03) and August (08), inclusive.</li>
<li><code>winter=1</code> is a column with value 1 if the month is
between September (09) and February (02), inclusive.</li>
</ul>
<p><br></p>
<h3 id="problem-10.1">Problem 10.1</h3>
<p><code>boot</code> = w_0</p>
<p>w_0:</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> 0</p></li>
<li><p><input type="radio" disabled="" /> 50</p></li>
<li><p><input type="radio" disabled="" /> 100</p></li>
<li><p><input type="radio" disabled="" /> Not enough info</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10_1" aria-expanded="true" aria-controls="collapse10_1">
Click to view the solution.
</button>
</h2>
<div id="collapse10_1" class="accordion-collapse collapse"
aria-labelledby="heading10_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 50</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-10.2">Problem 10.2</h3>
<p><code>boot</code> = <span class="math inline">w_0 + w_1 \cdot
\text{sandal}</span></p>
<p>w_0:</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> -100</p></li>
<li><p><input type="radio" disabled="" /> -1</p></li>
<li><p><input type="radio" disabled="" /> 0</p></li>
<li><p><input type="radio" disabled="" /> 1</p></li>
<li><p><input type="radio" disabled="" /> 100</p></li>
<li><p><input type="radio" disabled="" /> Not enough info</p></li>
</ul>
<p>w_1:</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> -100</p></li>
<li><p><input type="radio" disabled="" /> -1</p></li>
<li><p><input type="radio" disabled="" /> 1</p></li>
<li><p><input type="radio" disabled="" /> 100</p></li>
<li><p><input type="radio" disabled="" /> Not enough info</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10_2" aria-expanded="true" aria-controls="collapse10_2">
Click to view the solution.
</button>
</h2>
<div id="collapse10_2" class="accordion-collapse collapse"
aria-labelledby="heading10_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong></p>
<p>w_0: 100</p>
<p>w_1: -1</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-10.3">Problem 10.3</h3>
<p><code>boot</code> = <span class="math inline">w_0 + w_1 \cdot
(\text{summer=1})</span></p>
<p>w_0:</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> -100</p></li>
<li><p><input type="radio" disabled="" /> -1</p></li>
<li><p><input type="radio" disabled="" /> 0</p></li>
<li><p><input type="radio" disabled="" /> 1</p></li>
<li><p><input type="radio" disabled="" /> 100</p></li>
<li><p><input type="radio" disabled="" /> Not enough info</p></li>
</ul>
<p>w_1:</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> -80</p></li>
<li><p><input type="radio" disabled="" /> -1</p></li>
<li><p><input type="radio" disabled="" /> 0</p></li>
<li><p><input type="radio" disabled="" /> 1</p></li>
<li><p><input type="radio" disabled="" /> 80</p></li>
<li><p><input type="radio" disabled="" /> Not enough info</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10_3" aria-expanded="true" aria-controls="collapse10_3">
Click to view the solution.
</button>
</h2>
<div id="collapse10_3" class="accordion-collapse collapse"
aria-labelledby="heading10_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong></p>
<p>w_0: 100</p>
<p>w_1: -80</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-10.4">Problem 10.4</h3>
<p><code>sandal</code> = <span class="math inline">w_0 + w_1 \cdot
(\text{summer=1})</span></p>
<p>w_0:</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> -20</p></li>
<li><p><input type="radio" disabled="" /> -1</p></li>
<li><p><input type="radio" disabled="" /> 0</p></li>
<li><p><input type="radio" disabled="" /> 1</p></li>
<li><p><input type="radio" disabled="" /> 20</p></li>
<li><p><input type="radio" disabled="" /> Not enough info</p></li>
</ul>
<p>w_1:</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> -80</p></li>
<li><p><input type="radio" disabled="" /> -1</p></li>
<li><p><input type="radio" disabled="" /> 0</p></li>
<li><p><input type="radio" disabled="" /> 1</p></li>
<li><p><input type="radio" disabled="" /> 80</p></li>
<li><p><input type="radio" disabled="" /> Not enough info</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10_4" aria-expanded="true" aria-controls="collapse10_4">
Click to view the solution.
</button>
</h2>
<div id="collapse10_4" class="accordion-collapse collapse"
aria-labelledby="heading10_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong></p>
<p>w_0: 20</p>
<p>w_1: 80</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-10.5">Problem 10.5</h3>
<p><code>sandal</code> = <span class="math inline">w_0 + w_1 \cdot
(\text{summer=1}) + w_2 \cdot (\text{winter=1})</span></p>
<p>w_0:</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> -20</p></li>
<li><p><input type="radio" disabled="" /> -1</p></li>
<li><p><input type="radio" disabled="" /> 0</p></li>
<li><p><input type="radio" disabled="" /> 1</p></li>
<li><p><input type="radio" disabled="" /> 20</p></li>
<li><p><input type="radio" disabled="" /> Not enough info</p></li>
</ul>
<p>w_1:</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> -80</p></li>
<li><p><input type="radio" disabled="" /> -1</p></li>
<li><p><input type="radio" disabled="" /> 0</p></li>
<li><p><input type="radio" disabled="" /> 1</p></li>
<li><p><input type="radio" disabled="" /> 80</p></li>
<li><p><input type="radio" disabled="" /> Not enough info</p></li>
</ul>
<p>w_2:</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> -80</p></li>
<li><p><input type="radio" disabled="" /> -1</p></li>
<li><p><input type="radio" disabled="" /> 0</p></li>
<li><p><input type="radio" disabled="" /> 1</p></li>
<li><p><input type="radio" disabled="" /> 80</p></li>
<li><p><input type="radio" disabled="" /> Not enough info</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10_5" aria-expanded="true" aria-controls="collapse10_5">
Click to view the solution.
</button>
</h2>
<div id="collapse10_5" class="accordion-collapse collapse"
aria-labelledby="heading10_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong></p>
<p>w_0: Not enough info</p>
<p>w_1: Not enough info</p>
<p>w_2: Not enough info</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-11">Problem 11</h2>
<p>Suppose you fit four different models to predict whether someone has
an income greater than $100,000 a year using their purchase history. You
split the data into a training and test set and use 3-fold
cross-validation. The table below shows all the calculated accuracies
for each model (higher accuracy is better).</p>
<center><img src="../../assets/images/sp24-final/train-valid-test.png" style="width: 40%; height: auto;"></center>
<p><br></p>
<h3 id="problem-11.1">Problem 11.1</h3>
<p>Which model has the lowest model bias?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Model A</p></li>
<li><p><input type="radio" disabled="" /> Model B</p></li>
<li><p><input type="radio" disabled="" /> Model C</p></li>
<li><p><input type="radio" disabled="" /> Model D</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading11_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse11_1" aria-expanded="true" aria-controls="collapse11_1">
Click to view the solution.
</button>
</h2>
<div id="collapse11_1" class="accordion-collapse collapse"
aria-labelledby="heading11_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Model D</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-11.2">Problem 11.2</h3>
<p>Which model most severely underfits the data?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Model A</p></li>
<li><p><input type="radio" disabled="" /> Model B</p></li>
<li><p><input type="radio" disabled="" /> Model C</p></li>
<li><p><input type="radio" disabled="" /> Model D</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading11_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse11_2" aria-expanded="true" aria-controls="collapse11_2">
Click to view the solution.
</button>
</h2>
<div id="collapse11_2" class="accordion-collapse collapse"
aria-labelledby="heading11_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Model A</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-11.3">Problem 11.3</h3>
<p>Which model most severely overfits the data?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Model A</p></li>
<li><p><input type="radio" disabled="" /> Model B</p></li>
<li><p><input type="radio" disabled="" /> Model C</p></li>
<li><p><input type="radio" disabled="" /> Model D</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading11_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse11_3" aria-expanded="true" aria-controls="collapse11_3">
Click to view the solution.
</button>
</h2>
<div id="collapse11_3" class="accordion-collapse collapse"
aria-labelledby="heading11_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Model D</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-11.4">Problem 11.4</h3>
<p>Which model should you pick overall?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Model A</p></li>
<li><p><input type="radio" disabled="" /> Model B</p></li>
<li><p><input type="radio" disabled="" /> Model C</p></li>
<li><p><input type="radio" disabled="" /> Model D</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading11_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse11_4" aria-expanded="true" aria-controls="collapse11_4">
Click to view the solution.
</button>
</h2>
<div id="collapse11_4" class="accordion-collapse collapse"
aria-labelledby="heading11_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Model B</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-12">Problem 12</h2>
<p>Suppose you fit a decision tree to the training set below, using the
features <code>x0</code> and <code>x1</code> to predict the outcome
<code>y</code>.</p>
<center><img src="../../assets/images/sp24-final/tree.png" style="width: 10%; height: auto;"></center>
<p>Write the first four splitting rules that are created by the decision
tree when fitting this training set (using weighted entropy). Assume
that the tree is constructed in a depth-first order. If two candidate
splits have the same weighted entropy, choose the one that splits on
<code>x0</code>.</p>
<p><br></p>
<h3 id="problem-12.1">Problem 12.1</h3>
<p>The first splitting rule is:
<code>___(i)___ &lt;= ___(ii)___</code></p>
<p>(i):</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>x0</code></p></li>
<li><p><input type="radio" disabled="" /> <code>x1</code></p></li>
</ul>
<p>(ii):</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>0</code></p></li>
<li><p><input type="radio" disabled="" /> <code>1</code></p></li>
<li><p><input type="radio" disabled="" /> <code>2</code></p></li>
<li><p><input type="radio" disabled="" /> <code>3</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading12_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse12_1" aria-expanded="true" aria-controls="collapse12_1">
Click to view the solution.
</button>
</h2>
<div id="collapse12_1" class="accordion-collapse collapse"
aria-labelledby="heading12_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong></p>
<p>(i): <code>x0</code></p>
<p>(ii): <code>1</code></p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-12.2">Problem 12.2</h3>
<p>The second splitting rule is:
<code>___(i)___ &lt;= ___(ii)___</code></p>
<p>(i):</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>x0</code></p></li>
<li><p><input type="radio" disabled="" /> <code>x1</code></p></li>
</ul>
<p>(ii):</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>0</code></p></li>
<li><p><input type="radio" disabled="" /> <code>1</code></p></li>
<li><p><input type="radio" disabled="" /> <code>2</code></p></li>
<li><p><input type="radio" disabled="" /> <code>3</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading12_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse12_2" aria-expanded="true" aria-controls="collapse12_2">
Click to view the solution.
</button>
</h2>
<div id="collapse12_2" class="accordion-collapse collapse"
aria-labelledby="heading12_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong></p>
<p>(i): <code>x1</code></p>
<p>(ii): <code>0</code></p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-12.3">Problem 12.3</h3>
<p>The third splitting rule is:
<code>___(i)___ &lt;= ___(ii)___</code></p>
<p>(i):</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>x0</code></p></li>
<li><p><input type="radio" disabled="" /> <code>x1</code></p></li>
</ul>
<p>(ii):</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>0</code></p></li>
<li><p><input type="radio" disabled="" /> <code>1</code></p></li>
<li><p><input type="radio" disabled="" /> <code>2</code></p></li>
<li><p><input type="radio" disabled="" /> <code>3</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading12_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse12_3" aria-expanded="true" aria-controls="collapse12_3">
Click to view the solution.
</button>
</h2>
<div id="collapse12_3" class="accordion-collapse collapse"
aria-labelledby="heading12_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong></p>
<p>(i): <code>x0</code></p>
<p>(ii): <code>0</code></p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-12.4">Problem 12.4</h3>
<p>The fourth splitting rule is:
<code>___(i)___ &lt;= ___(ii)___</code></p>
<p>(i):</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>x0</code></p></li>
<li><p><input type="radio" disabled="" /> <code>x1</code></p></li>
</ul>
<p>(ii):</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>0</code></p></li>
<li><p><input type="radio" disabled="" /> <code>1</code></p></li>
<li><p><input type="radio" disabled="" /> <code>2</code></p></li>
<li><p><input type="radio" disabled="" /> <code>3</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading12_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse12_4" aria-expanded="true" aria-controls="collapse12_4">
Click to view the solution.
</button>
</h2>
<div id="collapse12_4" class="accordion-collapse collapse"
aria-labelledby="heading12_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong></p>
<p>(i): <code>x1</code></p>
<p>(ii): <code>1</code></p>
<p>Here is a plot of the training data:</p>
<center><img src="../../assets/images/sp24-final/dtree-plot.png" style="width: 60%; height: auto;"/></center>
<p>Here is a plot of the fitted tree (from scikit-learn):</p>
<center><img src="../../assets/images/sp24-final/dtree-tree.png" style="width: 60%; height: auto;"/></center>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-13">Problem 13</h2>
<p>Suppose you fit a logistic regression classifier. The classifier’s
predictions on a test set of 5 points are shown below, along with the
actual labels.</p>
<center><img src="../../assets/images/sp24-final/eval.png" style="width: 30%; height: auto;"></center>
<p>Recall that for logistic regression, we must also choose a threshold
<code>$ \tau $</code> to convert the predicted probabilities to
predicted labels. For this question, assume that
<code>$ 0 &lt; \tau &lt; 1 $</code>. Precision is undefined when the
classifier doesn’t make any positive predictions (since
<code>$\frac{0}{0}$</code> is undefined). For each question, show your
work and draw a box around your final answer in the space provided. Each
of your final answers should be a single number.</p>
<p><br></p>
<h3 id="problem-13.1">Problem 13.1</h3>
<p>What is the <strong>lowest</strong> possible precision for any
threshold <code>$ \tau $</code>?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading13_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse13_1" aria-expanded="true" aria-controls="collapse13_1">
Click to view the solution.
</button>
</h2>
<div id="collapse13_1" class="accordion-collapse collapse"
aria-labelledby="heading13_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong></p>
<p>The lowest precision happens when <code>$ \tau $</code> is less than
0.3. In this case, the classifier predicts all points are 1, which gives
a precision of <code>$ \frac{3}{5} $</code>.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-13.2">Problem 13.2</h3>
<p>What is the <strong>lowest</strong> possible recall for any threshold
<code>$ \tau $</code>?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading13_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse13_2" aria-expanded="true" aria-controls="collapse13_2">
Click to view the solution.
</button>
</h2>
<div id="collapse13_2" class="accordion-collapse collapse"
aria-labelledby="heading13_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong></p>
<p>The lowest recall happens when <code>$ \tau $</code> is greater than
0.7. In this case, the classifier predicts all points are 0, which gives
a recall of 0.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-13.3">Problem 13.3</h3>
<p>What is the <strong>highest</strong> possible recall if the
classifier achieves a precision of 1?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading13_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse13_3" aria-expanded="true" aria-controls="collapse13_3">
Click to view the solution.
</button>
</h2>
<div id="collapse13_3" class="accordion-collapse collapse"
aria-labelledby="heading13_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong></p>
<p>If precision is 1, the threshold must be greater than 0.4. Of these
thresholds, the recall is greatest when the threshold is between 0.4 and
0.6. In this case, the recall is <span class="math inline">\frac{2}{3}</span>.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="section"><span class="math display"> </span></h2>
<h4
id="feedback-find-an-error-still-confused-have-a-suggestion-let-us-know-here.">👋
Feedback: Find an error? Still confused? Have a suggestion?
<a href="https://forms.gle/WZ71FchnXU1K154d7">Let us know
here</u></a>.</h4>
<hr />
</body>
</html>
