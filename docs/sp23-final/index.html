<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Spring 2023 Final Exam</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../assets/theme.css" />
  <script defer=""
  src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Spring 2023 Final Exam</h1>
</header>
<p><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<!-- add after bootstrap.min.css -->
<link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.css"/>
<!-- add after bootstrap.min.js or bootstrap.bundle.min.js -->
<script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script></p>
<!-- for difficulty gauges-->
<script src="https://cdn.plot.ly/plotly-2.16.1.min.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B947E6J6H4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B947E6J6H4');
</script>
<p><a href="../index.html">← return to practice.dsc80.com</a></p>
<hr />
<p><strong>Instructor(s):</strong> Tauhidur Rahman</p>
<p>This exam was administered in-person. The exam was closed-notes,
except students were allowed to bring two two-sided cheat sheets. No
calculators were allowed. Students had <strong>180 minutes</strong> to
take this exam.</p>
<hr />
<h2 id="problem-1">Problem 1</h2>
<p>Consider the following Code Snippet:</p>
<p><code>re.findall(r'__(a)__', 'my cat is hungry, concatenate!, catastrophe! What a cat!')</code></p>
<p><br></p>
<h3 id="problem-1.1">Problem 1.1</h3>
<p>Which regular expression in <strong>__(a)__</strong> will generate
the following output? <code>Output: ['my', 'a']</code></p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>\b([a-z]*)cat\b</code></p></li>
<li><p><input type="radio" disabled="" /> <code>\b[a-z]*\scat\b</code></p></li>
<li><p><input type="radio" disabled="" /> <code>([a-z]*)\scat\b</code></p></li>
<li><p><input type="radio" disabled="" /> <code>\b([a-z]*\scat)\b</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_1" aria-expanded="true" aria-controls="collapse1_1">
Click to view the solution.
</button>
</h2>
<div id="collapse1_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading1_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> C - <code>([a-z]*)\scat\b</code></p>
<p>This regular expression selects the sections of matches that consist
of zero or more lowercase letters that are followed by a space and then
followed by cat as a whole word (not with cat as a substring of a larger
word), essentially selecting words followed by a space and the word cat.
Thus this option correctly selects <code>['my', 'a']</code>.</p>
<p>Option 1 would select <code>['', '']</code><br/>
Option 2 would select <code>['my cat', 'a cat']</code><br/>
Option 4 would select <code>['my cat', 'a cat']</code><br/>
</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-1.2">Problem 1.2</h3>
<p>Which regular expression in <strong>__(a)__</strong> will generate
the following output?</p>
<p><code>Output: ['concatenate']</code></p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>\b.*cat.*\b</code></p></li>
<li><p><input type="radio" disabled="" /> <code>[a-z]*cat[a-z]*</code></p></li>
<li><p><input type="radio" disabled="" /> <code>[a-z]+cat[a-z]+</code></p></li>
<li><p><input type="radio" disabled="" /> <code>\b[a-z]*cat[a-z]*\b</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_2" aria-expanded="true" aria-controls="collapse1_2">
Click to view the solution.
</button>
</h2>
<div id="collapse1_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading1_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> C - <code>[a-z]+cat[a-z]+</code></p>
<p>This regular expression selects matches where one or more lowercase
letters are followed by the substring cat, and then followed by one or
more lowercase letters, essentially selecting words with cat as a
substring but not a prefix. Thus this option correctly selects
<code>['concatenate']</code>.</p>
<p>Option 1 would select
<code>['my cat is hungry, concatenate!, catastrophe! What a cat']</code><br/>
Option 2 would select
<code>['cat', 'concatenate', 'catastrophe', 'cat']</code><br/>
Option 4 would select
<code>['cat', 'concatenate', 'catastrophe', 'cat']</code><br/>
</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-1.3">Problem 1.3</h3>
<p>Which regular expression in <strong>__(a)__</strong> will generate
the following output?</p>
<p><code>Output: ['cat', 'concatenate', 'catastrophe', 'cat']</code></p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>.*cat.*</code></p></li>
<li><p><input type="radio" disabled="" /> <code>\b.*cat.*\b</code></p></li>
<li><p><input type="radio" disabled="" /> <code>\b[a-z]*cat[a-z]*\b</code></p></li>
<li><p><input type="radio" disabled="" /> <code>\b[a-z]+cat[a-z]+\b</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_3" aria-expanded="true" aria-controls="collapse1_3">
Click to view the solution.
</button>
</h2>
<div id="collapse1_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading1_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> C - <code>\b[a-z]*cat[a-z]*\b</code></p>
<p>This regular expression selects matches where a word boundary is
followed by 0 or more lowercase letters, cat, and then follwoed by 0 or
more lowercase letters followed by a word coundary, essentially
selecting words containing cat. Thus this option correctly selects
<code>['cat', 'concatenate', 'catastrophe', 'cat']</code>.</p>
<p>Option 1 would select
<code>['my cat is hungry, concatenate!, catastrophe! What a cat!']</code><br/>
Option 2 would select
<code>['my cat is hungry, concatenate!, catastrophe! What a cat!']</code><br/>
Option 4 would select <code>['concatenate']</code><br/>
</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-2">Problem 2</h2>
<p>Sam Altman has trained a Logistic Regression model to classify emails
into “Spam” / “Non-Spam” categories/classes. Here, ‘Spam’ is the
positive class. Once the model is trained, Sam opted to evaluate the
model performance on the testing set. The Logistic Regression outputs a
value between 0 and 1. When the output of the Logistic Regression model
is greater than or equal to the threshold, the email is classified as a
‘Spam’ email. By varying the threshold, Sam creates the following
Precision-Recall graph.</p>
<center><img  src='../assets/images/sp23-final/q2_prgraph.png'  width=40%></center>
<p><br></p>
<h3 id="problem-2.1">Problem 2.1</h3>
<p>Which point corresponds to the <strong>highest</strong> threshold
value?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> A</p></li>
<li><p><input type="radio" disabled="" /> B</p></li>
<li><p><input type="radio" disabled="" /> C</p></li>
<li><p><input type="radio" disabled="" /> D</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_1" aria-expanded="true" aria-controls="collapse2_1">
Click to view the solution.
</button>
</h2>
<div id="collapse2_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading2_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> B</p>
<p>Remember that precision measures the predicted positive values that
were actually positive, while recall measures actually positive values
that were predicted as being positive. The highest threshold is 1, and
we would expect that when the model predicts 1 the email is actually
likely Spam, but that the model does not predict 1 for every Spam email.
This means that at the highest threshold, precision is almost perfect
while recall is extremely low, corresponding to point B on the plot.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-2.2">Problem 2.2</h3>
<p>Consider the following confusion matrix with “Spam” and “Not Spam”
classes where ‘Spam’ is the positive class.</p>
<center><img  src='../assets/images/sp23-final/q2b.png'  width=40%></center>
<p>Suppose the recall of Sam’s classifier is 0.75 and the precision of
Sam’s classifier is 0.6. What are the values of X and Y? Give your
answers as positive integers.</p>
<p><code>X</code> ____</p>
<p><code>Y</code> ____</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_2" aria-expanded="true" aria-controls="collapse2_2">
Click to view the solution.
</button>
</h2>
<div id="collapse2_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading2_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> X = 15, Y = 10</p>
<p>We are given that <span class="math inline">FN = 5</span> and <span class="math inline">TN = 50</span><br/>
Remember that <span class="math inline">Precision =
\frac{TP}{(TP+FP)}</span> and <span class="math inline">Recall =
\frac{TP}{(TP+FN)}</span></p>
<p>To calculate TP (X) use the formula for recall:<br/>
<span class="math inline">0.75 = \frac{TP}{(TP+5)}</span><br/>
<span class="math inline">0.75 \cdot (TP+5)* = TP</span><br/>
<span class="math inline">0.75 \cdot TP+ 5 \cdot 0.75 = TP</span><br/>
<span class="math inline">0.25 \cdot TP = 3.75</span><br/>
<span class="math inline">TP = 15</span><br/>
Therefore X = 15</p>
<p>To calculate FP (Y) use the formula for precision:<br/>
<span class="math inline">0.6 = \frac{15}{(15+FP)}</span><br/>
<span class="math inline">0.6 \cdot (15+FP)* = 15</span><br/>
<span class="math inline">0.6 \cdot 15 + 0.6 \cdot FP = 15</span><br/>
<span class="math inline">0.6 \cdot FP = 6</span><br/>
<span class="math inline">FP = 10</span><br/>
Therefore Y = 10</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-2.3">Problem 2.3</h3>
<p>Suppose you want to predict if people are depressed based on their
Electrocardiogram ECG signal. To train your model, you sampled ECG data
from 100 people, with 80% of them not being depressed. Which of the
following metrics is definitely not suitable for evaluating this binary
classification model? Select all that apply.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Precision</p></li>
<li><p><input type="radio" disabled="" /> Recall</p></li>
<li><p><input type="radio" disabled="" /> Accuracy</p></li>
<li><p><input type="radio" disabled="" /> F1 Score</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_3" aria-expanded="true" aria-controls="collapse2_3">
Click to view the solution.
</button>
</h2>
<div id="collapse2_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading2_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Accuracy</p>
<p>Because the the data set is imbalanced (80% of the data belongs to
one class), accuracy is not a suitable metric to evaluate this
classification model. This is because accuracy does not differentiate
between if the accuracy was achieved on predictions made for the
majority or the minority class, and it is highly likely in a biased
dataset that a high accuracy is achieved based on making correct
predictions solely for the majority, but not the minority class.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-2.4">Problem 2.4</h3>
<p>For the purposes of such a binary depression classification task,
which is more important?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> high precision</p></li>
<li><p><input type="radio" disabled="" /> high recall</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_4" aria-expanded="true" aria-controls="collapse2_4">
Click to view the solution.
</button>
</h2>
<div id="collapse2_4" class="accordion-collapse collapse collapse"
aria-labelledby="heading2_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> High recall</p>
<p>High recall is relatively more important for medical tests generally.
High recall minimizes FN, while high precision minimizes FP. A high
recall ensures that you are capturing the people who have the condition,
and it is usually worse in these settings to think someone does not have
a condition when they actually do, than the other way around. If your
system fails to detect the condition, the condition goes undiagnosed and
unaddressed, so it is more important to minimize FN.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-2.5">Problem 2.5</h3>
<p>For the purposes of determining whether someone committed a crime,
which is more important?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> high precision</p></li>
<li><p><input type="radio" disabled="" /> high recall</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_5" aria-expanded="true" aria-controls="collapse2_5">
Click to view the solution.
</button>
</h2>
<div id="collapse2_5" class="accordion-collapse collapse collapse"
aria-labelledby="heading2_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> High precision</p>
<p>High precision is relatively more important since you do not want to
punish someone who did not commit the crime (want to minimize FP). See
the previous explanation for more details about the differences between
high recall and high precision.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-2.6">Problem 2.6</h3>
<p>In the context of a spam detector, an important email from a
legitimate source ending up in one’s spam folder is an example of
what?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True positive</p></li>
<li><p><input type="radio" disabled="" /> False positive</p></li>
<li><p><input type="radio" disabled="" /> False negative</p></li>
<li><p><input type="radio" disabled="" /> True negative</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_6">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_6" aria-expanded="true" aria-controls="collapse2_6">
Click to view the solution.
</button>
</h2>
<div id="collapse2_6" class="accordion-collapse collapse collapse"
aria-labelledby="heading2_6" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> False positive</p>
<p>For a spam detector, detetcted an email as Spam is equivalnet to
assigning it as belonging to the positive class. Since the email was
classified by the spam detector as spam, it is positive. However, since
it was not actually spam, it is a false positive.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-3">Problem 3</h2>
<p>Suraj is exploring the relationship between the applied voltage and
resulting current of an electrical element called Diode. At first, he
decides to fit a Linear Regression model on some training data stored in
DataFrame <code>diode</code>. <code>diode</code> has two columns, named
<code>"Voltage"</code> and <code>"Current"</code>, respectively.</p>
<center><img  src='../assets/images/sp23-final/q3.png'  width=40%></center>
<p><br></p>
<h3 id="problem-3.1">Problem 3.1</h3>
<p>In the following code, Suraj implements k-fold cross validation. He
stores all the validation root mean squared error (RMSE) values of each
fold in <code>errs_dataframe</code> Dataframe.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>errs <span class="op">=</span> cross_val_score(LinearRegression(), diode[[<span class="st">&#39;voltage&#39;</span>]], diode[<span class="st">&#39;current&#39;</span>], cv<span class="op">=</span><span class="dv">5</span>, scoring<span class="op">=</span><span class="st">&#39;neg_root_mean_squared_error&#39;</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>errs_dataframe <span class="op">=</span> pd.DataFrame(<span class="op">-</span>errs,columns<span class="op">=</span>[<span class="st">&#39;rmse&#39;</span>], index<span class="op">=</span>[<span class="ss">f&#39;Fold </span><span class="sc">{</span>i<span class="sc">}</span><span class="ss">&#39;</span> <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">6</span>)])</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>errs_dataframe</span></code></pre></div>
<p>Based on the information in <code>errs_dataframe</code>, which one is
a true statement?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> The validation RMSE of Fold 5 is the lowest.</p></li>
<li><p><input type="radio" disabled="" /> The validation RMSE of Fold 5 is the highest.</p></li>
<li><p><input type="radio" disabled="" /> The validation RMSE of Fold 1 is significantly higher than the
validation RMSE of fold 5.</p></li>
<li><p><input type="radio" disabled="" /> The validation RMSE of all the folds (i.e., Fold 1-5) are similar to
each other.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_1" aria-expanded="true" aria-controls="collapse3_1">
Click to view the solution.
</button>
</h2>
<div id="collapse3_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading3_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> B - The validation RMSE of Fold 5 is the
highest.</p>
<p>To answer this question, we can use the plot showing the actual data
in each fold, along with the fact that we are fitting a linear
regression model. We can see that a line fitted on all the folds would
likely fit datapoints from the fifth fold worse than points from the
first four folds. This is because the first four folds appear to fall
along a relatively linear pattern amongst themselves, compared to when
the fifth fold is included in our considerations. Thus the validation
RMSE would be highest for the fifth fold.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.2">Problem 3.2</h3>
<p>Consider the following piece of code where we implement a
hyperparameter search with GridSearchCV():</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> GridSearchCV</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.tree <span class="im">import</span> DecisionTreeClassifier</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> train_test_split</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>diabetes <span class="op">=</span> pd.read_csv(<span class="st">&#39;data/diabetes.csv&#39;</span>)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>X_train, X_test, y_train, y_test <span class="op">=</span> train_test_split(diabetes[[<span class="st">&#39;Glucose&#39;</span>, <span class="st">&#39;BMI&#39;</span>]], diabetes[<span class="st">&#39;Outcome&#39;</span>])</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>hyperparameters <span class="op">=</span> {</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;max_depth&#39;</span>: [<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">10</span>, <span class="dv">13</span>, <span class="dv">15</span>, <span class="dv">18</span>, <span class="va">None</span>],</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;min_samples_split&#39;</span>: [<span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">50</span>],</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;criterion&#39;</span>: [<span class="st">&#39;gini&#39;</span>, <span class="st">&#39;entropy&#39;</span>]</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>searcher <span class="op">=</span> GridSearchCV(DecisionTreeClassifier(), hyperparameters, cv<span class="op">=</span><span class="dv">8</span>)</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>searcher.fit(X_train, y_train)</span></code></pre></div>
<p>In total, how many decision tree models were trained under the hood
for this hyperparameter search?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> 8</p></li>
<li><p><input type="radio" disabled="" /> 100</p></li>
<li><p><input type="radio" disabled="" /> 200</p></li>
<li><p><input type="radio" disabled="" /> 800</p></li>
<li><p><input type="radio" disabled="" /> 1600</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_2" aria-expanded="true" aria-controls="collapse3_2">
Click to view the solution.
</button>
</h2>
<div id="collapse3_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading3_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 800</p>
<p>The code specifies 10 options for <code>max_depth</code>, 5 options
for <code>max_depth</code>, 2 options for <code>criterion</code>, and
the cross validation parameter in GridSearchCV is set to 8. Therefore
the total number of trained models is equal to the total number of
combinations of <code>max_depth</code>, <code>max_depth</code>, and
<code>criterion</code>, times 8 for the number of cross validation
folds:</p>
<p><span class="math inline">10 \cdot 5 \cdot 2 \cdot 8 = 800</span></p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.3">Problem 3.3</h3>
<p>Consider the same piece of code from the previous problem.</p>
<p>After fitting the searcher, you run the following line of code. What
would this line of code evaluate to?</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>searcher.cv_results_[<span class="st">&#39;mean_test_score&#39;</span>].shape[<span class="dv">0</span>]</span></code></pre></div>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> 8</p></li>
<li><p><input type="radio" disabled="" /> 100</p></li>
<li><p><input type="radio" disabled="" /> 200</p></li>
<li><p><input type="radio" disabled="" /> 800</p></li>
<li><p><input type="radio" disabled="" /> 1600</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_3" aria-expanded="true" aria-controls="collapse3_3">
Click to view the solution.
</button>
</h2>
<div id="collapse3_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading3_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 100</p>
<p>Taking the mean test score from all 8 cross validation folds for the
models gives 1 value for each combination of <code>max_depth</code>,
<code>max_depth</code>, and <code>criterion</code>. Therefore the code
will evaluate to the total number of combinations of
<code>max_depth</code>, <code>max_depth</code>, and
<code>criterion</code>:</p>
<p><span class="math inline">10 \cdot 5 \cdot 2 = 100</span></p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-4">Problem 4</h2>
<p><br></p>
<h3 id="problem-4.1">Problem 4.1</h3>
<p>Rahul is trying to scrape the website of an online bookstore ‘The
Book Club’.</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;HTML&gt;</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;H1&gt;</span>The Book Club<span class="kw">&lt;/H1&gt;</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;BODY</span> <span class="er">BGCOLOR</span><span class="ot">=</span><span class="st">&quot;FFFFFF&quot;</span><span class="kw">&gt;</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>Email us at <span class="kw">&lt;a</span> <span class="er">href</span><span class="ot">=</span><span class="st">&quot;mailto:support@thebookclub.com&quot;</span><span class="kw">&gt;</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>support@thebookclub.com<span class="kw">&lt;/a&gt;</span>.</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;div&gt;</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;ol</span> <span class="er">class</span><span class="ot">=</span><span class="st">&quot;row&quot;</span><span class="kw">&gt;</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;li</span> <span class="er">class</span><span class="ot">=</span><span class="st">&quot;book_list&quot;</span><span class="kw">&gt;</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>        <span class="kw">&lt;article</span> <span class="er">class</span><span class="ot">=</span><span class="st">&quot;product_pod&quot;</span><span class="kw">&gt;</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;div</span> <span class="er">class</span><span class="ot">=</span><span class="st">&quot;image_container&quot;</span><span class="kw">&gt;</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">&lt;img</span> <span class="er">src</span><span class="ot">=</span><span class="st">&quot;pic1.jpeg&quot;</span> <span class="er">alt</span><span class="ot">=</span><span class="st">&quot;A Light in the Attic&quot;</span> </span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="ot">                    class=</span><span class="st">&quot;thumbnail&quot;</span><span class="kw">&gt;</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;/div&gt;</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;p</span> <span class="er">class</span><span class="ot">=</span><span class="st">&quot;star-rating Three&quot;</span><span class="kw">&gt;&lt;/p&gt;</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;h3&gt;</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;a</span> <span class="er">href</span><span class="ot">=</span><span class="st">&quot;cat/index.html&quot;</span> <span class="er">title</span><span class="ot">=</span><span class="st">&quot;A Light in the Attic&quot;</span><span class="kw">&gt;</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>            A Light in the Attic</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;/a&gt;</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;/h3&gt;</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;div</span> <span class="er">class</span><span class="ot">=</span><span class="st">&quot;product_price&quot;</span><span class="kw">&gt;</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;p</span> <span class="er">class</span><span class="ot">=</span><span class="st">&quot;price_color&quot;</span><span class="kw">&gt;</span>£51.77<span class="kw">&lt;/p&gt;</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>                </span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;p</span> <span class="er">class</span><span class="ot">=</span><span class="st">&quot;instock availability&quot;</span><span class="kw">&gt;</span></span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">&lt;i</span> <span class="er">class</span><span class="ot">=</span><span class="st">&quot;icon-ok&quot;</span><span class="kw">&gt;&lt;/i&gt;</span></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>                    In stock</span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;/p&gt;</span></span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;/div&gt;</span></span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>        <span class="kw">&lt;/article&gt;</span></span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;/li&gt;</span></span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;/ol&gt;</span></span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/div&gt;</span></span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/BODY&gt;</span></span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/HTML&gt;</span></span></code></pre></div>
<p>Which is the equivalent Document Object Model (DOM) tree of this HTML
file?</p>
<center><img  src='../assets/images/sp23-final/q4.png'  width=40%></center>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Tree A</p></li>
<li><p><input type="radio" disabled="" /> Tree B</p></li>
<li><p><input type="radio" disabled="" /> Tree C</p></li>
<li><p><input type="radio" disabled="" /> Tree D</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_1" aria-expanded="true" aria-controls="collapse4_1">
Click to view the solution.
</button>
</h2>
<div id="collapse4_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading4_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Tree D</p>
<p>Following tree D in the image from top to bottom, we can follow the
nesting of tags in the HTML file to verify that the DOM tree D matches
the syntax of the HTML file.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.2">Problem 4.2</h3>
<p>Rahul wants to extract the <code>‘instock availability’</code> status
of the book titled ‘A Light in the Attic’. Which of the following
expressions will evaluate to <code>"In Stock"</code>? Assume that Rahul
has already parsed the HTML into a BeautifulSoup object stored in the
variable named <code>soup</code>.</p>
<p>Code Snippet A</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>    soup.find(<span class="st">&#39;p&#39;</span>,attrs <span class="op">=</span> {<span class="st">&#39;class&#39;</span>: <span class="st">&#39;instock availability&#39;</span>})<span class="op">\</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    .get(<span class="st">&#39;icon-ok&#39;</span>).strip()</span></code></pre></div>
<p>Code Snippet B</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>    soup.find(<span class="st">&#39;p&#39;</span>,attrs <span class="op">=</span> {<span class="st">&#39;class&#39;</span>: <span class="st">&#39;instock availability&#39;</span>}).text.strip()</span></code></pre></div>
<p>Code Snippet C</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>    soup.find(<span class="st">&#39;p&#39;</span>,attrs <span class="op">=</span> {<span class="st">&#39;class&#39;</span>: <span class="st">&#39;instock availability&#39;</span>}).find(<span class="st">&#39;i&#39;</span>)<span class="op">\</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    .text.strip()</span></code></pre></div>
<p>Code Snippet D</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>    soup.find(<span class="st">&#39;div&#39;</span>, attrs <span class="op">=</span> {<span class="st">&#39;class&#39;</span>:<span class="st">&#39;product_price&#39;</span>})<span class="op">\</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    .find(<span class="st">&#39;p&#39;</span>,attrs <span class="op">=</span> {<span class="st">&#39;class&#39;</span>: <span class="st">&#39;instock availability&#39;</span>})<span class="op">\</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    .find(<span class="st">&#39;i&#39;</span>).text.strip()</span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_2" aria-expanded="true" aria-controls="collapse4_2">
Click to view the solution.
</button>
</h2>
<div id="collapse4_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading4_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Code Snippet B</p>
<p>Code Snippet B is the only option that finds the tag <code>p</code>
with the attribute <code>class</code> being equal to
<code>instock availability</code> and then getting the text contained in
that tag, which is equal to <code>‘instock availability’</code>.</p>
<p>Option A will cause an error because of <code>.get('icon-ok')</code>
since <code>'icon-ok'</code> is not the name of the attribute, but is
instead the value of the <code>class</code> attribute.</p>
<p>Option C and D will both get the text of the <code>i</code> tag,
which is <code>''</code> and is therefore incorrect.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.3">Problem 4.3</h3>
<p>Rahul also wants to extract the number of stars that the book titled
‘A Light in the Attic’ received. If you look at the HTML file, you will
notice that the book received a star rating of three. Which code snippet
will evaluate to <code>"Three"</code>?</p>
<p>Code Snippet A</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>    soup.find(<span class="st">&#39;article&#39;</span>).get(<span class="st">&#39;class&#39;</span>).strip()</span></code></pre></div>
<p>Code Snippet B</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>    soup.find(<span class="st">&#39;p&#39;</span>).text.split(<span class="st">&#39; &#39;</span>)</span></code></pre></div>
<p>Code Snippet C</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>    soup.find(<span class="st">&#39;p&#39;</span>).get(<span class="st">&#39;class&#39;</span>)[<span class="dv">1</span>]</span></code></pre></div>
<p>None of the above</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_3" aria-expanded="true" aria-controls="collapse4_3">
Click to view the solution.
</button>
</h2>
<div id="collapse4_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading4_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Code Snippet C</p>
<p>Code Snippet C finds the first occurence of the tag <code>p</code>,
gets the contents of its <code>class</code> attribute as a list, and
returns the last element, which is the rating <code>'Three'</code> as
desired.</p>
<p>Option A will error because <code>.get('class')</code> returns
<code>['product_pod']</code> and strip cannot be used on a list, but
also the content of the list does not bring us closer to the desired
result.</p>
<p>Option B gets the text contained within the first <code>p</code> tag
as a list, which is <code>['']</code>.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-5">Problem 5</h2>
<p><br></p>
<h3 id="problem-5.1">Problem 5.1</h3>
<p>Which are examples of nested data formats? Select all that apply.</p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> XML</p></li>
<li><p><input type="checkbox" disabled="" /> CSV</p></li>
<li><p><input type="checkbox" disabled="" /> JSON</p></li>
<li><p><input type="checkbox" disabled="" /> HTML</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_1" aria-expanded="true" aria-controls="collapse5_1">
Click to view the solution.
</button>
</h2>
<div id="collapse5_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading5_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> XML, JSON, HTML</p>
<p>CSV is not a nested data format, but is in a flat format,
representing data in a 2d structure.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-5.2">Problem 5.2</h3>
<p>To measure the similarity between two word vectors <span
class="math inline">\vec{a}</span> and <span
class="math inline">\vec{b}</span>, we compute their normalized dot
product, also known as their cosine similarity.</p>
<p><span class="math inline">\text{Cosine Similarity} = \cos \theta =
\boxed{\frac{\vec{a} \cdot \vec{b}}{|\vec{a}| | \vec{b}|}}</span></p>
<p>Which equation describes the cosine distance metric?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <span class="math inline">\cos \theta - 1</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">1- \cos \theta</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\cos \theta \cdot |\vec{a}| |
\vec{b}|</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">(\cos \theta)^{-1}</span></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_2" aria-expanded="true" aria-controls="collapse5_2">
Click to view the solution.
</button>
</h2>
<div id="collapse5_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading5_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">1 -
cos(\theta)</span></p>
<p>Cosine similarity ranges from 0 to 1, and therefore cosine
dissimilarity (or distance) must be the difference between 1 and the
cosine similarity (consider that cosine similarity of 0 should mean
distance of 1, and vice versa). Therefore cosine distance is <span class="math inline">1 - cos(\theta)</span>.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-5.3">Problem 5.3</h3>
<p>Chen downloaded 4 independent reviews of a new vacuum cleaner from
Amazon (as shown in the 4 sentences below).</p>
<pre><code>    Sentence 1: &#39;if i could give this vacuum zero stars i would&#39;
    Sentence 2: &#39;i will not order again this vacuum is garbage&#39;
    Sentence 3: &#39;Love Love Love i love this product&#39;
    Sentence 4: &#39;this little vacuum is so much fun to use i love it&#39;</code></pre>
<p><em>X</em> is the ‘Term frequency-Inverse Document Frequency
(TF-IDF)’ of the word ‘vacuum’ in sentence 1.</p>
<p>Chen replaces sentence 3 with the following new sentence/review.</p>
<pre><code>    New Sentence 3: &#39;Love Love Love i love this vacuum&#39;</code></pre>
<p><em>Y</em> is the ‘TF-IDF’ of the word ‘vacuum’ in sentence 1 after
the sentence 3 is replaced by the new sentence 3.</p>
<p>Given the above information, which of the following statements is
true?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <span class="math inline">X=Y</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">X&gt;Y&gt;0</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">X&gt;0</span> and <span class="math inline">Y=0</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">X&gt;0</span> and <span class="math inline">Y&gt;X</span></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_3" aria-expanded="true" aria-controls="collapse5_3">
Click to view the solution.
</button>
</h2>
<div id="collapse5_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading5_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">X &gt; 0</span>
&amp; <span class="math inline">Y = 0</span></p>
<p>To find X:<br/>
TF = <span class="math inline">\frac{1}{10}</span><br/>
IDF = <span class="math inline">log_2\frac{4}{3}</span><br/>
TF-IDF <span class="math inline">\approx</span> 0.415<br/>
So X &gt; 0</p>
<p>To find Y:<br/>
TF = <span class="math inline">\frac{1}{10}</span><br/>
IDF = <span class="math inline">log_2\frac{4}{4}</span><br/>
TF-IDF = 0<br/>
So Y = 0</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-5.4">Problem 5.4</h3>
<p>Consider the five expressions in the following Series, sentences.</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>sentences <span class="op">=</span> pd.Series([</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;buffalo monkey giraffe buffalo buffalo buffalo&#39;</span>,</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;buffalo giraffe&#39;</span>,</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;giraffe monkey&#39;</span>,</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;deer monkey&#39;</span>,</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;buffalo&#39;</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>])</span></code></pre></div>
<p>We convert all the expressions in the sentences series to a bag of
words representation with the following words (also known as
dictionary):</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>{buffalo, monkey, giraffe, deer}</span></code></pre></div>
<p>Which expression will achieve the highest similarity with</p>
<p><code>sentences.iloc[0]</code> if we use the <strong>un-normalized
dot product</strong> between the bag of words (i.e., <span
class="math inline">\vec{a} \cdot \vec{b}</span>) as the similarity
metric?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> ‘buffalo giraffe’</p></li>
<li><p><input type="radio" disabled="" /> ‘giraffe monkey’</p></li>
<li><p><input type="radio" disabled="" /> ‘deer monkey’</p></li>
<li><p><input type="radio" disabled="" /> ‘buffalo’</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_4" aria-expanded="true" aria-controls="collapse5_4">
Click to view the solution.
</button>
</h2>
<div id="collapse5_4" class="accordion-collapse collapse collapse"
aria-labelledby="heading5_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> ‘buffalo giraffe’</p>
<p>Bag of words for <code>sentences.iloc[0]</code> (‘buffalo monkey
giraffe buffalo buffalo buffalo’) is (4, 1, 1, 0)</p>
<p>Bag of words and products for the expressions are:</p>
<p>‘buffalo giraffe’:<br/>
bow: (1, 0, 1, 0)<br/>
product: 5</p>
<p>‘giraffe monkey’:<br/>
bow: (0, 1, 1, 0)<br/>
product: 2</p>
<p>‘deer monkey’:<br/>
bow: (0, 1, 0, 1)<br/>
product: 1</p>
<p>‘buffalo’:<br/>
bow: (1, 0, 0, 0)<br/>
product: 4</p>
<p>So ‘buffalo giraffe’ maximizes the similarity metric.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-5.5">Problem 5.5</h3>
<p>Which expression will achieve the highest similarity with</p>
<p><code>sentences.iloc[0]</code> if we use <strong>cosine
similarity</strong> between the bag of words as the similarity metric?
<em>Hint:</em> <span class="math inline">\sqrt{18}=3\sqrt{2}</span>,
<span class="math inline">\frac{2}{\sqrt{2}}=\sqrt{2}</span>, <span
class="math inline">4\sqrt{2}=5.65</span>*</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> ‘buffalo giraffe’</p></li>
<li><p><input type="radio" disabled="" /> ‘giraffe monkey’</p></li>
<li><p><input type="radio" disabled="" /> ‘deer monkey’</p></li>
<li><p><input type="radio" disabled="" /> ‘buffalo’</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_5" aria-expanded="true" aria-controls="collapse5_5">
Click to view the solution.
</button>
</h2>
<div id="collapse5_5" class="accordion-collapse collapse collapse"
aria-labelledby="heading5_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> ‘buffalo’</p>
<p>Bag of words for <code>sentences.iloc[0]</code> (‘buffalo monkey
giraffe buffalo buffalo buffalo’) is (4, 1, 1, 0), so the norm is <span class="math inline">\sqrt{18} = 3\sqrt{2}</span></p>
<p>Calculating the cosine similarity for each expression:</p>
<p>‘buffalo giraffe’:<br/>
bow: (1, 0, 1, 0)<br/>
similarity: <span class="math inline">\frac{5}{6}</span></p>
<p>‘giraffe monkey’:<br/>
bow: (0, 1, 1, 0)<br/>
similarity: <span class="math inline">\frac{1}{3}</span></p>
<p>‘deer monkey’:<br/>
bow: (0, 1, 0, 1)<br/>
similarity: <span class="math inline">\frac{1}{6}</span></p>
<p>‘buffalo’:<br/>
bow: (1, 0, 0, 0)<br/>
similarity: <span class="math inline">\frac{2\sqrt{2}}{3}</span></p>
<p>So ‘buffalo’ maximizes the similarity metric.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-6">Problem 6</h2>
<p>In this question, we will work with a publicly available forest fire
dataset. A preview of the <code>forest</code> DataFrame is provided
below, along with a description of the column names.</p>
<p><code>forest</code> Dataframe:
<center><img  src='../assets/images/sp23-final/q6.png'  width=40%>
</center></p>
<p><code>"month"</code> - month of the year: jan to dec
<code>"day"</code> - day of the week: mon to sun <code>"temp"</code> -
temperature in Celsius degrees: 2.2 to 33.30 <code>"RH"</code> -
relative humidity in percentage: 15.0 to 100 <code>"wind"</code> - wind
speed in km/h: 0.40 to 9.40 <code>"rain"</code> - outside rain in mm/m2
: 0.0 to 6.4 <code>"area"</code> - the burned area of the forest in
logarithmic scale <code>"is_julaugsep"</code> - whether the forest fire
event happened in the months of July, August, or September.</p>
<p><br></p>
<h3 id="problem-6.1">Problem 6.1</h3>
<p>Alex wants to explore if there is any statistically significant
relationship between the burned area of the forest <code>"area"</code>
and the <code>"is_julaugsep"</code> variable. At first, he plots the two
probability distributions (as shown in the figure below):</p>
<center><img  src='../assets/images/sp23-final/q6_density.png'  width=40%> </center>
<p>Alex decides to perform a permutation test with the following
hypotheses.</p>
<ul>
<li><p><strong>Null Hypothesis</strong>: The burned area for forest fire
events in the July-Aug-Sep months are drawn from the same distribution
as the burned area for forest fire events in the rest of the year. Any
observed differences are due to random chance.</p></li>
<li><p><strong>Alternative Hypothesis</strong>: The forest fire events
in the July-Aug-Sep months has lower average burned area than the forest
fire events in the rest of the year.</p></li>
</ul>
<p>Which one of the following is the best test statistic in this
case?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Total Variation Distance (TVD) between the distributions</p></li>
<li><p><input type="radio" disabled="" /> Kolmogorov-Smirnov (K-S) distance between the distributions</p></li>
<li><p><input type="radio" disabled="" /> The signed difference between the mean burned area of
Non-July-Aug-Sep months, minus the mean burned area of July-Aug-Sep
months</p></li>
<li><p><input type="radio" disabled="" /> The unsigned (absolute) difference between the mean burned area of
Non-July-Aug-Sep months, minus the mean burned area of July-Aug-Sep
months</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_1" aria-expanded="true" aria-controls="collapse6_1">
Click to view the solution.
</button>
</h2>
<div id="collapse6_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading6_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> C - The signed difference between the mean
burned area of Non-July-Aug-Sep months, minus the mean burned area of
July-Aug-Sep months.</p>
<p>Since the two distributions here are numerical (burned areas is
numerical), and the shapes of the distributions are similar (based on
the the probability density plot), we should use the signed difference
in means as the test statistic.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.2">Problem 6.2</h3>
<p>Hasan noticed some missing data in the <code>"temp"</code> column.
After talking to Prof. Ana who lead the data collection efforts, Hasan
came to know that the temperature sensor had to be taken down and
re-calibrated in some of the high temperature days which resulted in
missing values. what can be said about the missingness in the
<code>"temp"</code> column?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Missing Completely at Random</p></li>
<li><p><input type="radio" disabled="" /> Not Missing at Random</p></li>
<li><p><input type="radio" disabled="" /> Missing at Random</p></li>
<li><p><input type="radio" disabled="" /> Missing by Design</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_2" aria-expanded="true" aria-controls="collapse6_2">
Click to view the solution.
</button>
</h2>
<div id="collapse6_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading6_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Not Missing at Random</p>
<p>The <code>"temp"</code> column is missing if its own value is too
high. Since missingness depends on itself, it is NMAR.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-6.3">Problem 6.3</h3>
<p>Now, Hasan wants to fill in the missing values in the
<code>"temp"</code> column. Which data imputation strategy is most
appropriate here?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Data imputation by random sampling where we randomly sample one value
from the observed values in the <code>"temp"</code> column for each
missing values in the same column</p></li>
<li><p><input type="radio" disabled="" /> Mean imputation where we replace the missing value by mean of the
observed values in <code>"temp"</code> column</p></li>
<li><p><input type="radio" disabled="" /> Conditional mean imputation based on <code>"is_julaugsep"</code>
column</p></li>
<li><p><input type="radio" disabled="" /> Data imputation can not be performed based on the <code>forest</code>
dataframe</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_3" aria-expanded="true" aria-controls="collapse6_3">
Click to view the solution.
</button>
</h2>
<div id="collapse6_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading6_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> D - Data imputation can not be performed
based on the <code>forest</code> dataframe.</p>
<p>Since the missing value depends on itself (NMAR), there is no other
data in <code>forest</code> that can be used for imputation.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.4">Problem 6.4</h3>
<p>Mark, at first, trains a linear regression model with
<code>"temp"</code> and <code>"RH"</code> columns to predict
<code>"area"</code>. Later, Mark identifies that dew point temperature
<code>"Td"</code> is an informative feature for predicting
<code>"area"</code>. He adds a new column to the <code>forest</code>
Dataframe called <code>"Td"</code> where Td can be expressed by the
following equation: <span class="math inline">Td = temp -
\frac{100-RH}{5}</span>. Lastly, Mark trains a second linear regression
model with <code>"temp"</code>, <code>"RH"</code>, <code>"Td"</code>
columns in order to predict <code>"area"</code>. Based on this, what can
be said about the second model?</p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> The accuracy of the second model is likely to be lower than the first
one.</p></li>
<li><p><input type="checkbox" disabled="" /> The coefficient of the second model can not be interpreted.</p></li>
<li><p><input type="checkbox" disabled="" /> The performance (e.g., rmse or R2 value) of the second model will be
the same as the first one.</p></li>
<li><p><input type="checkbox" disabled="" /> The first linear regression model suffers from
‘Multicollinearity’</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_4" aria-expanded="true" aria-controls="collapse6_4">
Click to view the solution.
</button>
</h2>
<div id="collapse6_4" class="accordion-collapse collapse collapse"
aria-labelledby="heading6_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Options 2 and 3.</p>
<p>Because the variable <code>Td</code> is derived form a linear
combination of the features <code>temp</code> and <code>RH</code>, the
second model will have multicollinearity. This means that although the
performance of the second model will be the same as that of the first,
the coefficients of the second model cannot be interpreted, unlike in
the first model.</p>
<p>Therefore the correct answers are options 2 and 3.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-7">Problem 7</h2>
<p><br></p>
<h3 id="problem-7.1">Problem 7.1</h3>
<p>Consider a DataFrame <code>df</code> containing sales data for a
company with the following columns: <code>"Year"</code>,
<code>"Month"</code>, <code>"Product"</code>, <code>"Region"</code>, and
<code>"Revenue"</code>. The <code>"Revenue"</code> column represents the
sales revenue for each product in a specific region during a particular
month of a year. You want to create a pivot table to summarize the total
revenue for each product in each year. Which of the following options
correctly achieve this? Select all that apply.</p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> None</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_1" aria-expanded="true" aria-controls="collapse7_1">
Click to view the solution.
</button>
</h2>
<div id="collapse7_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading7_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Options 1 and 4</p>
<p>Options 1 and 4 have the same behavior, in that they create pivot
tables that display the sum of revenue for each product in each year
(<code>index</code> and <code>column</code> are interchangeable).
Options 3 and 4 are incorrect because they use columns such as
<code>Region</code> and <code>Month</code> that are not necessary to
generate the information that is desired in the pivot table.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-7.2">Problem 7.2</h3>
<p>Let’s consider the two DataFrames: <code>timeuse1</code> and
<code>timeuse2</code>. Both DataFrames have 10 rows in it.</p>
<center><img  src='../assets/images/sp23-final/q7.png'  width=40%></center>
<p><strong>1</strong> The following code uses <code>pd.concat</code> to
combine the two DataFrames.</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>    pd.concat([timeuse1.set_index(<span class="st">&#39;Country&#39;</span>),</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>        timeuse2.set_index(<span class="st">&#39;Country_name&#39;</span>)], axis<span class="op">=</span><span class="dv">1</span>)</span></code></pre></div>
<p>How many NaN values would the resulting DataFame have?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_2" aria-expanded="true" aria-controls="collapse7_2">
Click to view the solution.
</button>
</h2>
<div id="collapse7_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading7_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> 20</p>
<p>The values in the index of <code>timeuse1</code> that are not in
<code>timeuse2</code> are Estonia, Spain, France, and Italy. These 4
indices contribute to <span class="math inline">4 \cdot 3 = 12</span>
NaN values in the concatenated DataFrame, since <code>timeuse2</code>
has 3 non-index columns.</p>
<p>The values in the index of <code>timeuse2</code> that are not in
<code>timeuse1</code> are Slovenia, Finland, United Kingdom, and Norway.
These 4 indices contribute to <span class="math inline">4 \cdot 2 =
8</span> NaN values in the concatenated DataFrame, since
<code>timeuse1</code> has 2 non-index columns.</p>
<p>So the total number of NaN values in the concatenated DataFrame is
<span class="math inline">12 + 8 = 20</span></p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-7.3">Problem 7.3</h3>
<p><strong>2</strong> The following code uses <code>merge()</code> to
combine the two DataFrames from the question above.</p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>    timeuse1.merge(timeuse2, left_on<span class="op">=</span><span class="st">&#39;Country&#39;</span>, </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>        right_on<span class="op">=</span><span class="st">&#39;Country_name&#39;</span>, how<span class="op">=</span><span class="st">&#39;inner&#39;</span>)</span></code></pre></div>
<p>How many NaN values would the resulting DataFame have?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_3" aria-expanded="true" aria-controls="collapse7_3">
Click to view the solution.
</button>
</h2>
<div id="collapse7_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading7_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 0</p>
<p>The resulting DataFrame would have no NaN values. This is because the
merged DataFrame used an inner merge, and would only contain rows with
the same country name in both DataFrames, contributing non Nans, and
none of the rows in either unmerged DataFrame starts off with NaN
values.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-7.4">Problem 7.4</h3>
<p><strong>3</strong> What would the following code evaluate to?</p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>    timeuse1.merge(timeuse2, left_on<span class="op">=</span><span class="st">&#39;Country&#39;</span>,</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>        right_on<span class="op">=</span><span class="st">&#39;Country_name&#39;</span>, how<span class="op">=</span><span class="st">&#39;outer&#39;</span>).shape[<span class="dv">0</span>]</span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_4" aria-expanded="true" aria-controls="collapse7_4">
Click to view the solution.
</button>
</h2>
<div id="collapse7_4" class="accordion-collapse collapse collapse"
aria-labelledby="heading7_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 14</p>
<p>Using an outer join results in a row for each unique country name
across both datasets. This number is equal to 14, so the code above,
which returns the number of rows in the outer joined DataFrame, would
evaluate to 14.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-8">Problem 8</h2>
<p><br></p>
<h3 id="problem-8.1">Problem 8.1</h3>
<p>A pharmaceutical company conducted a clinical trial to compare the
efficacy of two drugs, Drug A and Drug B, in treating a specific medical
condition. The trial involved two groups of patients, Group X and Group
Y. The results of the trial are as follows:</p>
<p>Group X:</p>
<ul>
<li>Drug A: 80% success rate (120 patients out of 150)</li>
<li>Drug B: 75% success rate (225 patients out of 300)</li>
</ul>
<p>Group Y:</p>
<ul>
<li>Drug A: 70% success rate (70 patients out of 100)</li>
<li>Drug B: 60% success rate (120 patients out of 200)</li>
</ul>
<p>Based on these results, which drug would you conclude is more
effective overall?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Drug A</p></li>
<li><p><input type="radio" disabled="" /> Drug B</p></li>
<li><p><input type="radio" disabled="" /> It is impossible to determine from the given data</p></li>
<li><p><input type="radio" disabled="" /> The results are contradictory, and no conclusion can be made</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_1" aria-expanded="true" aria-controls="collapse8_1">
Click to view the solution.
</button>
</h2>
<div id="collapse8_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading8_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Drug A</p>
<p>The overall success rate of drug A is <span class="math inline">\frac{120+70}{150+100}</span> = <span class="math inline">\frac{190}{250}</span><br/>
The overall success rate of drug B is <span class="math inline">\frac{75+60}{300+200}</span> = <span class="math inline">\frac{345}{500}</span></p>
<p><span class="math inline">\frac{190}{250} &gt; \frac{345}{500}</span>
so Drug A is likely more effective overall.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-8.2">Problem 8.2</h3>
<p>Justify your answer in words.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_2" aria-expanded="true" aria-controls="collapse8_2">
Click to view the solution.
</button>
</h2>
<div id="collapse8_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading8_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> A trick question! Although the results may
seem like an example of Simpson’s Paradox, it is not, because the trend
within each group is consistent (A is always better) and A is more
effective overall. Since we’re asked to determine which drug is more
effective <strong>overall</strong>, we should calculate the success rate
of Drug A and Drug B across both groups. The comparison is <span class="math display">\frac{190}{250} &gt; \frac{345}{500}</span>, so
Drug A is more effective overall.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-9">Problem 9</h2>
<p>Let’s recall Project 1, where the concept of redemption score was
introduced. According to this idea, the course could reward for showing
improvement in their understanding of the earlier ideas in the course on
the final exam. Suppose the final exam was worth 80 points. A total of
40 points were associated with questions 2, 4, 6, 8, and 9, which were
the redemption questions. The class’s mean score on just the redemption
questions was 0.8, with a standard deviation of 0.2. Suppose the midterm
exam was worth 70 points. The class’s mean score on the midterm exam was
0.6, with a standard deviation of 0.5. Tiffany, a student in the course,
earned a <span class="math inline">\frac{60}{80}</span> on the final
exam, including a <span class="math inline">\frac{30}{40}</span> on the
redemption questions, and a <span
class="math inline">\frac{50}{70}</span> on the midterm exam.</p>
<p><br></p>
<h3 id="problem-9.1">Problem 9.1</h3>
<p>Should her final exam score be replaced using the rule in Project
1?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Yes</p></li>
<li><p><input type="radio" disabled="" /> No</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_1" aria-expanded="true" aria-controls="collapse9_1">
Click to view the solution.
</button>
</h2>
<div id="collapse9_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading9_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> No</p>
<p>Recall that z-score = <span class="math inline">\frac{score -
mean}{standard\ deviation}</span></p>
<p>Tiffany’s raw redemption score: <span class="math inline">\frac{30}{40}</span> Tiffany’s redemption z-score:
<span class="math inline">\frac{\frac{30}{40} - 0.8}{0.2} =
-0.25</span></p>
<p>Tiffany’s raw midterm score: <span class="math inline">\frac{50}{70}</span> Tiffany’s midterm z-score:
<span class="math inline">\frac{\frac{50}{70} - 0.6}{0.5} \approx
0.23</span></p>
<p>Since Tiffany’s redemption z-score is lower than her midterm z-score,
she should not get her final exam score replaced.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-9.2">Problem 9.2</h3>
<p>Which metric did you use in Project 1 to conclude that?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_2" aria-expanded="true" aria-controls="collapse9_2">
Click to view the solution.
</button>
</h2>
<div id="collapse9_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading9_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> z-score</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-9.3">Problem 9.3</h3>
<p>Suppose Tony Stark has implemented a decision tree classifier from
scratch and trained it using different criteria and maximum depths in a
10-fold cross-validation. Based on the results table below, which row
(numbered 1 to 8) should he choose as his final model?</p>
<center><img  src='../assets/images/sp23-final/q9.png'  width=40%>  </center>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_3" aria-expanded="true" aria-controls="collapse9_3">
Click to view the solution.
</button>
</h2>
<div id="collapse9_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading9_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 7</p>
<p>The decision for the best selection of model hyperparameters in a
cross validation is based on the how well the model performs on the
validation data. the accuracy of the models on the test data in
irrelevant, since that can only be found after a model is selected.</p>
<p>The model with the best performance on the validation data (highest
accuracy on validation data), corresponds to the model indicated in row
7.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="section"><span class="math display"> </span></h2>
<h4
id="feedback-find-an-error-still-confused-have-a-suggestion-let-us-know-here.">👋
Feedback: Find an error? Still confused? Have a suggestion?
<a href="https://forms.gle/WZ71FchnXU1K154d7">Let us know
here</u></a>.</h4>
<hr />
</body>
</html>
